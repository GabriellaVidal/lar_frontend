{"ast":null,"code":"var _jsxFileName = \"/home/gabriella/Documentos/lar_front_end/src/pages/Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport api from \"../services/api\";\nimport { login } from \"../services/auth\";\nimport { setUserName } from \"../services/auth\";\nimport './Login.css';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.authenticateUser = this.authenticateUser.bind(this);\n    this.handleChange = this.onChange.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      error: \"\"\n    };\n  }\n\n  async authenticateUser(e) {\n    this.setState({\n      error: \"\"\n    });\n    e.preventDefault();\n    const _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n\n    if (!email || !password) {\n      this.setState({\n        error: \"Preencha e-mail e senha para continuar!\"\n      });\n    } else {\n      try {\n        const response = await api.post(\"/auth/authenticate\", {\n          email,\n          password\n        });\n        login(response.data.token);\n        setUserName(response.data.user.userName);\n        console.log(\"logar: \" + response.data.user.userName);\n        this.props.history.push(\"/user\");\n      } catch (err) {\n        this.setState({\n          error: \"Houve um problema com o login, verifique suas credenciais.\"\n        });\n      }\n    }\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  componentWillMount() {}\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \" Login \"), this.state.error && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.error), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"inputEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      id: \"inputEmail\",\n      type: \"email\",\n      className: \"form-control\",\n      name: \"email\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"Enter email\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"inputPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Senha\"), React.createElement(\"input\", {\n      id: \"inputPassword\",\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      placeholder: \"Password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      onClick: this.authenticateUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Entrar\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Cadastrar Usu\\xE1rio\")))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/gabriella/Documentos/lar_front_end/src/pages/Login.js"],"names":["React","Component","Link","api","login","setUserName","Login","constructor","props","authenticateUser","bind","handleChange","onChange","state","email","password","error","e","setState","preventDefault","response","post","data","token","user","userName","console","log","history","push","err","target","name","value","componentWillMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport { Link } from \"react-router-dom\";\n\nimport api from \"../services/api\";\nimport { login } from \"../services/auth\";\nimport { setUserName } from \"../services/auth\";\n\n\n\nimport './Login.css'\n\nclass Login extends Component { \n    constructor(props){\n        super(props); \n        this.authenticateUser = this.authenticateUser.bind(this);\n        this.handleChange = this.onChange.bind(this);\n        \n        this.state = {\n            email: \"\",\n            password: \"\",\n            error: \"\"\n        };\n        \n    }\n\n    async authenticateUser(e){\n        this.setState({ error: \"\"}); \n        e.preventDefault();\n        const { email, password } = this.state;\n        \n        if (!email || !password) {\n            this.setState({ error: \"Preencha e-mail e senha para continuar!\" });\n        } else {\n            try {\n                \n                const response = await api.post(\"/auth/authenticate\", { email, password });\n                login(response.data.token);\n                setUserName(response.data.user.userName); \n                console.log(\"logar: \"+response.data.user.userName);  \n                this.props.history.push(\"/user\");\n            } catch (err) {\n                this.setState({\n                error:\n                    \"Houve um problema com o login, verifique suas credenciais.\"\n                });\n            }\n        }\n    }\n\n    onChange(e){\n        this.setState(\n            {\n                [e.target.name]: e.target.value\n            }\n        )\n    }\n\n    componentWillMount(){\n        \n    }\n\n    render() {\n        return (\n            <div className=\"container\"> \n            <div className=\"card\">\n            <div className=\"card-body\">\n                 \n                \n                <form  >\n                    <h3> Login </h3>\n                    {this.state.error && <p>{this.state.error}</p>}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"inputEmail\">Email</label>\n                        <input \n                            id=\"inputEmail\"\n                            type=\"email\" \n                            className=\"form-control\" \n                            name=\"email\" \n                            aria-describedby=\"emailHelp\" \n                            placeholder=\"Enter email\"\n                            onChange={this.handleChange}\n                         />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"inputPassword\">Senha</label>\n                        <input \n                            id=\"inputPassword\"\n                            type=\"password\" \n                            className=\"form-control\" \n                            name=\"password\" \n                            placeholder=\"Password\" \n                            onChange={this.handleChange}\n                        />\n                    </div>\n\n                    <button type=\"submit\" className=\"btn btn-primary\"onClick={this.authenticateUser} >Entrar</button>\n                    <hr />\n                    <Link to=\"/signup\">Cadastrar Usu√°rio</Link>\n                </form>\n            </div>\n            </div>\n            </div>\n        );\n    }\n}\n\nexport default Login; "]},"metadata":{},"sourceType":"module"}