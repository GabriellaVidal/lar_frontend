{"ast":null,"code":"var _jsxFileName = \"/home/gabriella/Documentos/lar_front_end/src/pages/SignUp.js\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport api from \"../services/api\";\nimport { login } from \"../services/auth\";\nimport './Login.css';\n\nclass SignUp extends Component {\n  constructor(props) {\n    super(props);\n    this.registerUser = this.registerUser.bind(this);\n    this.handleChange = this.onChange.bind(this);\n    this.state = {\n      userName: \"\",\n      email: \"\",\n      password: \"\",\n      error: \"\"\n    };\n  }\n\n  async registerUser(e) {\n    this.setState({\n      error: \"\"\n    });\n    e.preventDefault();\n    const _this$state = this.state,\n          userName = _this$state.userName,\n          email = _this$state.email,\n          password = _this$state.password;\n\n    if (!email || !password || !userName) {\n      this.setState({\n        error: \"Preencha todos os campos para continuar!\"\n      });\n    } else {\n      try {\n        console.log(\"inserir usuário\");\n        const response = await api.post(\"/auth/register\", {\n          userName,\n          email,\n          password\n        });\n        login(response.data.token);\n        console.log(response.data);\n        this.props.history.push(\"/user\");\n      } catch (err) {\n        this.setState({\n          error: \"Houve um problema cadastro do usuário.\"\n        });\n      }\n    }\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  componentWillMount() {}\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \" Cadastro de Usu\\xE1rio \"), this.state.error && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, this.state.error), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"inputUserName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Nome\"), React.createElement(\"input\", {\n      id: \"inputUserName\",\n      type: \"text\",\n      className: \"form-control\",\n      name: \"userName\",\n      \"aria-describedby\": \"userNameHelp\",\n      placeholder: \"Digite seu nome\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"inputEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      id: \"inputEmail\",\n      type: \"email\",\n      className: \"form-control\",\n      name: \"email\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"Digite seu email\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"inputPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Senha\"), React.createElement(\"input\", {\n      id: \"inputPassword\",\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      placeholder: \"Password\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      onClick: this.registerUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Cadastrar\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Fazer login\")))));\n  }\n\n}\n\nexport default SignUp;","map":{"version":3,"sources":["/home/gabriella/Documentos/lar_front_end/src/pages/SignUp.js"],"names":["React","Component","Link","api","login","SignUp","constructor","props","registerUser","bind","handleChange","onChange","state","userName","email","password","error","e","setState","preventDefault","console","log","response","post","data","token","history","push","err","target","name","value","componentWillMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'; \nimport { Link } from \"react-router-dom\";\n\nimport api from \"../services/api\";\nimport { login } from \"../services/auth\";\n\nimport './Login.css'\n\nclass SignUp extends Component { \n    constructor(props){\n        super(props); \n        this.registerUser = this.registerUser.bind(this);\n        this.handleChange = this.onChange.bind(this);\n        \n        this.state = {\n            userName: \"\",\n            email: \"\",\n            password: \"\",\n            error: \"\"\n        };\n        \n    }\n\n    async registerUser(e){\n        this.setState({ error: \"\"}); \n        e.preventDefault();\n        const { userName, email, password } = this.state;\n        \n        if (!email || !password || !userName) {\n            this.setState({ error: \"Preencha todos os campos para continuar!\" });\n        } else {\n            try {\n                console.log(\"inserir usuário\"); \n                const response = await api.post(\"/auth/register\", {userName, email, password });\n                login(response.data.token);\n                \n                console.log(response.data); \n                this.props.history.push(\"/user\");\n            } catch (err) {\n                this.setState({\n                error:\n                    \"Houve um problema cadastro do usuário.\"\n                });\n            }\n        }\n    }\n\n    onChange(e){\n        this.setState(\n            {\n                [e.target.name]: e.target.value\n            }\n        )\n    }\n\n    componentWillMount(){\n        \n    }\n\n    render() {\n        return (\n            <div className=\"container\"> \n            <div className=\"card\">\n            <div className=\"card-body\">\n                 \n                \n                <form  >\n                    <h3> Cadastro de Usuário </h3>\n                    {this.state.error && <p>{this.state.error}</p>}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"inputUserName\">Nome</label>\n                        <input \n                            id=\"inputUserName\"\n                            type=\"text\" \n                            className=\"form-control\" \n                            name=\"userName\" \n                            aria-describedby=\"userNameHelp\" \n                            placeholder=\"Digite seu nome\"\n                            onChange={this.handleChange}\n                         />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"inputEmail\">Email</label>\n                        <input \n                            id=\"inputEmail\"\n                            type=\"email\" \n                            className=\"form-control\" \n                            name=\"email\" \n                            aria-describedby=\"emailHelp\" \n                            placeholder=\"Digite seu email\"\n                            onChange={this.handleChange}\n                         />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"inputPassword\">Senha</label>\n                        <input \n                            id=\"inputPassword\"\n                            type=\"password\" \n                            className=\"form-control\" \n                            name=\"password\" \n                            placeholder=\"Password\" \n                            onChange={this.handleChange}\n                        />\n                    </div>\n\n                    <button type=\"submit\" className=\"btn btn-primary\"onClick={this.registerUser} >Cadastrar</button>\n                    <hr />\n                    <Link to=\"/\">Fazer login</Link>\n                </form>\n            </div>\n            </div>\n            </div>\n        );\n    }\n}\n\nexport default SignUp; "]},"metadata":{},"sourceType":"module"}