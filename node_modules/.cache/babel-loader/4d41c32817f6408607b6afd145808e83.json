{"ast":null,"code":"var _jsxFileName = \"/home/gabriella/Documentos/lar-ureto-front-end/src/components/SimpleDevice.js\";\nimport React, { Component } from 'react';\nimport api from \"../services/api\";\nimport Button from 'react-bootstrap/Button';\nimport './SimpleDevice.css';\n\nclass SimpleDevice extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      status: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.deviceState = 1;\n  }\n\n  componentDidMount() {\n    this.setState(this.props.children);\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n    this.deviceState = !this.deviceState;\n    let valueToSend = \"\";\n    this.deviceState ? valueToSend = \"f\" : valueToSend = \"v\";\n    console.log(this.state.name + \" \" + this.deviceState + \" \" + this.state.device_id);\n\n    try {\n      const response = await api.post(\"/device/\" + this.state.device_id + \"/\", {\n        value: valueToSend\n      });\n      this.setState({\n        status: \"Comando enviado!\"\n      });\n\n      if (response.data.result === \"ok\") {\n        alert(\"Comando enviado com sucesso!\");\n      }\n\n      console.log(response.data);\n    } catch (err) {\n      console.log(err);\n      this.setState({\n        error: \"Houve um problema com o envio do comando para o dispositivo IoT.\"\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"device\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"device-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, \" \", this.state.name, \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, \" \", this.state.status, \" \")), /*#__PURE__*/React.createElement(Button, {\n      href: 'actions?' + this.state.id,\n      type: \"button\",\n      className: \"btn btn-success pull-right mr-unset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-cubes\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 123\n      }\n    }), \" Montar trajet\\xF3rias\")));\n  }\n\n}\n\nexport default SimpleDevice;","map":{"version":3,"sources":["/home/gabriella/Documentos/lar-ureto-front-end/src/components/SimpleDevice.js"],"names":["React","Component","api","Button","SimpleDevice","constructor","props","state","name","status","handleSubmit","bind","deviceState","componentDidMount","setState","children","e","preventDefault","valueToSend","console","log","device_id","response","post","value","data","result","alert","err","error","render","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AAGA,OAAO,oBAAP;;AAIA,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AACjCI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,MAAM,EAAE;AAFC,KAAb;AAIA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACH;;AAGDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,QAAL,CAAc,KAAKR,KAAL,CAAWS,QAAzB;AACH;;AAED,QAAML,YAAN,CAAmBM,CAAnB,EAAqB;AACjBA,IAAAA,CAAC,CAACC,cAAF;AACA,SAAKL,WAAL,GAAmB,CAAE,KAAKA,WAA1B;AACA,QAAIM,WAAW,GAAG,EAAlB;AACA,SAAKN,WAAL,GAAmBM,WAAW,GAAG,GAAjC,GAAuCA,WAAW,GAAG,GAArD;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWC,IAAX,GAAgB,GAAhB,GAAoB,KAAKI,WAAzB,GAAqC,GAArC,GAAyC,KAAKL,KAAL,CAAWc,SAAhE;;AACA,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMpB,GAAG,CAACqB,IAAJ,CAAS,aAAW,KAAKhB,KAAL,CAAWc,SAAtB,GAAgC,GAAzC,EAA8C;AACjEG,QAAAA,KAAK,EAAEN;AAD0D,OAA9C,CAAvB;AAGA,WAAKJ,QAAL,CAAc;AAAEL,QAAAA,MAAM,EAAE;AAAV,OAAd;;AACA,UAAKa,QAAQ,CAACG,IAAT,CAAcC,MAAd,KAAyB,IAA9B,EAAoC;AAChCC,QAAAA,KAAK,CAAC,8BAAD,CAAL;AACH;;AACDR,MAAAA,OAAO,CAACC,GAAR,CAAYE,QAAQ,CAACG,IAArB;AAEH,KAVD,CAWA,OAAOG,GAAP,EAAY;AACRT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACA,WAAKd,QAAL,CAAc;AACVe,QAAAA,KAAK,EACD;AAFM,OAAd;AAIH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAQ,KAAKvB,KAAL,CAAWC,IAAnB,MADJ,eAEI;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAA2B,KAAKD,KAAL,CAAWE,MAAtC,MAFJ,CADF,eAWE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAE,aAAW,KAAKF,KAAL,CAAWwB,EAApC;AAAwC,MAAA,IAAI,EAAC,QAA7C;AAAsD,MAAA,SAAS,EAAC,qCAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAsG;AAAG,MAAA,KAAK,EAAC,aAAT;AAAuB,qBAAY,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtG,2BAXF,CADN,CADJ;AAiBH;;AA5DgC;;AA+DrC,eAAe3B,YAAf","sourcesContent":["import React, { Component } from 'react';  \nimport api from \"../services/api\";\nimport Button from 'react-bootstrap/Button';\n\n\nimport './SimpleDevice.css'\n\n\n\nclass SimpleDevice extends Component { \n    constructor(props){\n        super(props); \n        this.state = {\n            name: \"\", \n            status: \"\"\n        }\n        this.handleSubmit = this.handleSubmit.bind(this); \n        this.deviceState = 1; \n    }\n\n    \n    componentDidMount() {\n        this.setState(this.props.children); \n    }\n    \n    async handleSubmit(e){\n        e.preventDefault();\n        this.deviceState = ! this.deviceState;\n        let valueToSend = \"\" \n        this.deviceState ? valueToSend = \"f\" : valueToSend = \"v\";  \n        console.log(this.state.name+\" \"+this.deviceState+\" \"+this.state.device_id); \n        try {\n            const response = await api.post(\"/device/\"+this.state.device_id+\"/\", {\n                value: valueToSend\n            });\n            this.setState({ status: \"Comando enviado!\" }); \n            if ( response.data.result === \"ok\" ){\n                alert(\"Comando enviado com sucesso!\"); \n            }\n            console.log(response.data); \n    \n        }\n        catch (err) {\n            console.log(err); \n            this.setState({\n                error:\n                    \"Houve um problema com o envio do comando para o dispositivo IoT.\"\n                });\n        } \n    }\n\n    render() {\n        return (\n            <div className=\"device\">\n                  <header> \n                    <div className=\"device-info\">     \n                        <span> {this.state.name} </span> \n                        <span className=\"status\"> {this.state.status} </span> \n                    </div>\n                    {/*<form onSubmit={this.handleSubmit}>\n                        <button type=\"submit\" className=\"btn btn-primary\">\n                            \n                            {this.deviceState ? \"Acionar\" : \"Deligar\" }\n                        </button> \n                    </form>*/} \n                    <Button href={'actions?'+this.state.id} type=\"button\" className=\"btn btn-success pull-right mr-unset\"><i class=\"fa fa-cubes\" aria-hidden=\"true\"></i> Montar trajet√≥rias</Button> \n                  </header>\n            </div> \n        );\n    }\n}\n\nexport default SimpleDevice; "]},"metadata":{},"sourceType":"module"}